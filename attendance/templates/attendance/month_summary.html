{% extends "attendance.html" %}
{% load attendance_extras %}

{% block nav-content %}
<table class="table">
	<thead>
	<tr>
		<th></th>
		<th>Summary</th>
		{% for date in month_dates %}
			<th>
			{% if date.1 == 'O' %}
				<i>{{ date.0 }}</i>
			{% else %}
				{{ date.0 }}
			{% endif %}
			</th>
			{% endfor %}
	</tr>
	</thead>

	<tbody>
	{% for employee in employee_attendances %}
		{% for emp_id, data in employee.items %}
		<tr>
			<td>
				<a href="#">{{ emp_id }} <br/> {# href = profile view #}
				{{ emp_id|fetch_employee_name }}</a>
			</td>
			<td>{{ data|summary|safe }}</td>
			{% for item in data %}
				{% if item.1 == 'O' %}
					<td>OFF</td>
				{% else %}
					<td>
						<label class="label label-{% if item.3 %}warning{% elif not item.3 %}{% if item.1 == 'ABS' %}danger{% elif item.1 == 'OFF' %}default{% else %}success{% endif %}{% endif %}">{{ item.1 }}</label> <br/>
						{% if not item.2 == 'X' %}<label class="label label-primary">{{ item.2 }}</label>{% endif %}
					</td>
				{% endif %}
				{% endfor %}
		</tr>
			{% endfor %}
		{% endfor %}
	</tbody>
</table>
{% endblock %}
